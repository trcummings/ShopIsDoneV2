[gd_scene load_steps=10 format=3 uid="uid://bg2miiwdt1h4y"]

[ext_resource type="PackedScene" uid="uid://dq2epbd2snfbt" path="res://arenas/arena.tscn" id="1_1h2mb"]
[ext_resource type="PackedScene" uid="uid://c84riwntsfpy5" path="res://entities/puppet_customer/puppet_customer.tscn" id="2_88hht"]
[ext_resource type="Script" path="res://levels/test_level/conditions/TaskCompletedCondition.cs" id="3_qnavv"]
[ext_resource type="Script" path="res://clown_rules/action_rules/MoveInLShapeActionRule.cs" id="4_slyis"]
[ext_resource type="PackedScene" uid="uid://c7xlqty5qdnif" path="res://entities/clown_puppet/clown_puppet.tscn" id="8_io54v"]
[ext_resource type="PackedScene" uid="uid://bou73723io7w1" path="res://entities/stock_shelves_task/stock_shelves_task.tscn" id="9_b656f"]
[ext_resource type="PackedScene" uid="uid://j67ix6p68gsa" path="res://entities/light_switch/light_switch.tscn" id="12_rbl1r"]
[ext_resource type="PackedScene" uid="uid://b40u8k00jhhja" path="res://lighting/world_omni_light.tscn" id="13_7wsxv"]
[ext_resource type="PackedScene" uid="uid://dl32plo1uc25s" path="res://entities/exit_door/exit_door.tscn" id="13_xc0y5"]

[node name="Arena1" instance=ExtResource("1_1h2mb")]

[node name="TaskCompletedCondition" type="Node" parent="Services/ConditionsService" index="0" node_paths=PackedStringArray("Task")]
script = ExtResource("3_qnavv")
Task = NodePath("../../../StockShelvesTask4")
_Id = "task_completed_condition"
IsVisibleInUI = true
Verb = "Complete"
Noun = "Task"
PluralNoun = "Tasks"

[node name="ClownRulesService" parent="Services" index="18" node_paths=PackedStringArray("_Judge")]
_Judge = NodePath("../../Entities/ClownPuppet")

[node name="MoveInLShapeActionRule" type="Node" parent="Services/ClownRulesService" index="0"]
script = ExtResource("4_slyis")
RuleDescription = "Do NOT walk in an L-shaped path"

[node name="TileManager" parent="." index="3"]
data = {
"cells": PackedInt32Array(4, 65533, 0, 4, 65532, 0, 3, 65532, 0, 3, 65533, 0, 3, 2, 0, 2, 3, 0, 3, 3, 0, 4, 3, 0, 4, 2, 0, 2, 65532, 0, 2, 65533, 0, 2, 65534, 0, 2, 1, 0, 2, 2, 0, 1, 3, 0, 1, 2, 0, 1, 1, 0, 1, 0, 0, 1, 65535, 0, 1, 65534, 0, 1, 65533, 0, 1, 65532, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 65535, 3, 0, 65535, 2, 0, 65535, 1, 0, 65535, 0, 0, 65535, 65535, 0, 65535, 65534, 0, 65535, 65533, 0, 65535, 65532, 0, 65534, 65532, 0, 65534, 65533, 0, 65534, 65534, 0, 65534, 65535, 0, 65534, 0, 0, 65534, 1, 0, 65534, 2, 0, 65534, 3, 0, 65533, 3, 0, 65533, 2, 0, 65533, 1, 0, 65533, 0, 0, 65533, 65535, 0, 65533, 65534, 0, 65533, 65533, 0, 65533, 65532, 0, 2, 65535, 1441792, 2, 0, 0, 3, 1, 0, 3, 65534, 0, 3, 0, 2, 3, 65535, 2, 4, 1, 0, 4, 0, 2, 4, 65535, 2, 4, 65534, 0)
}

[node name="Customer" parent="Entities" index="0" instance=ExtResource("2_88hht")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0, -3)
Enabled = false
EditorFacingDir = 3

[node name="ClownPuppet" parent="Entities" index="1" instance=ExtResource("8_io54v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -64, 1000, -13)

[node name="LightSwitch" parent="Entities" index="2" instance=ExtResource("12_rbl1r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 7)
EditorFacingDir = 1

[node name="LightSwitchModel" parent="Entities/LightSwitch" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="LightSwitchComponent" parent="Entities/LightSwitch" index="5" node_paths=PackedStringArray("_Lights")]
_IsFlippedOn = false
_Lights = [NodePath("../../../Lights/WorldOmniLight3"), NodePath("../../../Lights/WorldOmniLight4"), NodePath("../../../Lights/WorldOmniLight5")]

[node name="ExitDoor" parent="Entities" index="3" instance=ExtResource("13_xc0y5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 1)
EditorFacingDir = 1

[node name="Lights" type="Node3D" parent="." index="6"]
metadata/_edit_lock_ = true

[node name="WorldOmniLight" parent="Lights" index="0" instance=ExtResource("13_7wsxv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 1, 1)
Radius = 6.0
metadata/_edit_lock_ = true

[node name="WorldOmniLight2" parent="Lights" index="1" instance=ExtResource("13_7wsxv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 1, 0)
Radius = 3.0
metadata/_edit_lock_ = true

[node name="WorldOmniLight3" parent="Lights" index="2" instance=ExtResource("13_7wsxv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.862831, 1, 5.92033)
Radius = 3.0

[node name="WorldOmniLight4" parent="Lights" index="3" instance=ExtResource("13_7wsxv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0.5, 1)
Radius = 4.0

[node name="WorldOmniLight5" parent="Lights" index="4" instance=ExtResource("13_7wsxv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.30244, 1, 0.290684)
Radius = 3.0

[node name="StockShelvesTask" parent="." index="8" instance=ExtResource("9_b656f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2.08165e-12, 3)
EditorFacingDir = 2

[node name="StockShelvesTask2" parent="." index="9" node_paths=PackedStringArray("WidgetPoint") instance=ExtResource("9_b656f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 2.08165e-12, 3)
WidgetPoint = NodePath("../StockShelvesTask/WidgetPoint")
EditorFacingDir = 2

[node name="StockShelvesTask3" parent="." index="10" node_paths=PackedStringArray("WidgetPoint") instance=ExtResource("9_b656f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 2.08165e-12, -3)
WidgetPoint = NodePath("../StockShelvesTask/WidgetPoint")
EditorFacingDir = 2

[node name="StockShelvesTask4" parent="." index="11" node_paths=PackedStringArray("WidgetPoint") instance=ExtResource("9_b656f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2.08165e-12, -3)
WidgetPoint = NodePath("../StockShelvesTask/WidgetPoint")
EditorFacingDir = 2

[editable path="Entities/LightSwitch"]
[editable path="UILayer/TileHoverUIContainer/MarginContainer/VBoxContainer/MoreInfoPrompt"]
[editable path="UILayer/PlacementUIContainer/MarginContainer/HBoxContainer/VBoxContainer2/SelectUnitCTA"]
[editable path="UILayer/PlacementUIContainer/MarginContainer/HBoxContainer/VBoxContainer2/SwapUnitsCTA"]
[editable path="UILayer/PlacementUIContainer/MarginContainer/HBoxContainer/VBoxContainer2/PlaceUnitCTA"]
[editable path="UILayer/PlacementUIContainer/MarginContainer/HBoxContainer/VBoxContainer2/CancelCTA"]
